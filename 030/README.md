# 030

init

## golang 程序初始化(参考 1)

> golang 程序初始化先于 main 函数执行，由 runtime 进行初始化，初始化顺序如下：
>
> 1. 初始化导入的包（包的初始化顺序并不是按导入顺序（“从上到下”）执行的，runtime 需要解析包依赖关系，没有依赖的包最先初始化，与变量初始化依赖关系类似，参见 golang 变量的初始化）；
> 2. 初始化包作用域的变量（该作用域的变量的初始化也并非按照“从上到下、从左到右”的顺序，runtime 解析变量依赖关系，没有依赖的变量最先初始化，参见 golang 变量的初始化）；
> 3. 执行包的 init 函数；

当 import 一个模块时，首先会执行该模块的全局变量赋值操作，再执行模块里的所有 init 函数（模块内可存在多个 init 函数）

## reference

1. [golang 的 init 函数](https://zhuanlan.zhihu.com/p/34211611)
